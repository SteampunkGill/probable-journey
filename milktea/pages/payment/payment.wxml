<view class="payment-page">
  <view class="header">
    <view class="amount-section">
      <text class="label">订单金额</text>
      <view class="amount">¥{{ order.totalAmount || '0.00' }}</view>
    </view>
    
    <view class="countdown">
      <text>剩余支付时间：</text>
      <text class="time">{{countdownText}}</text>
    </view>
  </view>

  <view class="payment-methods">
    <view class="section-title">选择支付方式</view>
    
    <view
      class="method-item {{ paymentMethod === 'ALIPAY' ? 'active' : '' }}"
      bindtap="selectMethod"
      data-method="ALIPAY"
    >
      <view class="method-info">
        <view class="method-icon">💳</view>
        <text class="method-name">支付宝支付</text>
      </view>
      <view class="radio {{ paymentMethod === 'ALIPAY' ? 'checked' : '' }}"></view>
    </view>

    <view
      class="method-item {{ paymentMethod === 'WECHAT' ? 'active' : '' }}"
      bindtap="selectMethod"
      data-method="WECHAT"
    >
      <view class="method-info">
        <view class="method-icon">💬</view>
        <text class="method-name">微信支付</text>
      </view>
      <view class="radio {{ paymentMethod === 'WECHAT' ? 'checked' : '' }}"></view>
    </view>
    
    <view
      class="method-item {{ paymentMethod === 'BALANCE' ? 'active' : '' }}"
      bindtap="selectMethod"
      data-method="BALANCE"
    >
      <view class="method-info">
        <view class="method-icon">💰</view>
        <view class="method-detail">
          <text class="method-name">余额支付</text>
          <text class="balance">余额：¥{{ userBalance }}</text>
        </view>
      </view>
      <view class="radio {{ paymentMethod === 'BALANCE' ? 'checked' : '' }}"></view>
    </view>
  </view>

  <view class="order-info" wx:if="{{order}}">
    <view class="section-title">订单信息</view>
    <view class="info-item">
      <text class="label">订单编号</text>
      <text class="value">{{ order.orderNo }}</text>
    </view>
    <view class="info-item">
      <text class="label">下单时间</text>
      <text class="value">{{ order.createTime }}</text>
    </view>
  </view>

  <view class="footer">
    <button class="cancel-btn" bindtap="cancelOrder">取消订单</button>
    <button 
      class="pay-btn {{ paying ? 'disabled' : '' }}" 
      bindtap="submitPayment" 
      disabled="{{paying}}"
    >
      {{ paying ? '支付中...' : '确认支付' }}
    </button>
  </view>
</view>