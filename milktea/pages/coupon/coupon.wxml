<view class="coupon-page">
  <view class="tabs">
    <view 
      class="tab {{activeTab === item.key ? 'active' : ''}}" 
      wx:for="{{tabs}}" 
      wx:key="key"
      bindtap="switchTab"
      data-key="{{item.key}}"
    >
      {{item.name}}
    </view>
  </view>

  <view class="coupon-list" wx:if="{{coupons.length > 0}}">
    <view
      class="coupon-item {{item._recommend ? 'recommend-item' : ''}} {{item._recommendText === 'çœæœ€å¤š' ? 'best-item' : ''}} {{item._isUsable === false ? 'disabled-item' : ''}}"
      wx:for="{{coupons}}"
      wx:key="id"
    >
      <view class="recommend-tag" wx:if="{{item._recommend}}">{{item._recommendText}}</view>
      <view class="coupon-left">
        <view class="value">Â¥{{item.value}}</view>
        <view class="condition">æ»¡{{item.minAmount}}å…ƒå¯ç”¨</view>
      </view>
      <view class="coupon-right">
        <view class="name">{{item.name}}</view>
        <view class="desc">{{item.description}}</view>
        <view class="expire">æœ‰æ•ˆæœŸè‡³{{item.expireTime}}</view>
        <button
          class="use-btn"
          wx:if="{{activeTab === 'available'}}"
          bindtap="useCoupon"
          data-item="{{item}}"
        >{{mode === 'select' ? 'ç¡®è®¤é€‰æ‹©' : 'ç«‹å³ä½¿ç”¨'}}</button>
      </view>
    </view>
  </view>

  <view class="empty-state" wx:else>
    <view class="empty-icon">ğŸ§‹</view>
    <view class="empty-text">æš‚æ— ä¼˜æƒ åˆ¸</view>
    <view class="empty-hint">å¿«å»é¢†å–ä¸“å±å¥¶èŒ¶ä¼˜æƒ å§ï¼</view>
  </view>
</view>